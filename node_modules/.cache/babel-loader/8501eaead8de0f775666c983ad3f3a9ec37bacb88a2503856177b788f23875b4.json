{"ast":null,"code":"import _slicedToArray from\"D:/Prathiba/localClouflare/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from'react';import Chart from'chart.js/auto';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Domain(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var chartRef=useRef(null);useEffect(function(){fetch('https://myworker.prathibaramesh2120.workers.dev/popular-domains').then(function(response){return response.json();}).then(function(data){setData(data);console.log(data);}).catch(function(error){console.error(error);});},[]);useEffect(function(){if(data){var chart=chartRef.current;if(chart){chart.destroy();}var ctx=document.getElementById('myChart').getContext('2d');chartRef.current=new Chart(ctx,{type:'bar',data:{labels:data.rankingEntries.map(function(entry){return entry.domain;}),datasets:[{label:'Ranking',data:data.rankingEntries.map(function(entry){return entry.rank;}),backgroundColor:data.rankingEntries.map(function(entry){if(entry.rankChange==='1'){return'rgba(75, 192, 192, 0.2)';}else if(entry.rankChange==='-1'){return'rgba(255, 99, 132, 0.2)';}else{return'rgba(54, 162, 235, 0.2)';}}),borderColor:data.rankingEntries.map(function(entry){if(entry.rankChange==='1'){return'rgba(75, 192, 192, 1)';}else if(entry.rankChange==='-1'){return'rgba(255, 99, 132, 1)';}else{return'rgba(54, 162, 235, 1)';}}),borderWidth:1}]},options:{scales:{y:{beginAtZero:true,title:{display:true,text:'Ranking'}},x:{title:{display:true,text:'Domain'}}}}});}},[data]);if(!data){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"center\",fontWeight:\"bold\"},children:\"Popular Domains\"}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:\"The domain that have fallen in rank is represented in red and domain that have raised in rank is represented in green \"}),/*#__PURE__*/_jsx(\"canvas\",{id:\"myChart\",style:{height:'100px'}}),/*#__PURE__*/_jsx(\"br\",{})]});}export default Domain;","map":{"version":3,"names":["React","useState","useEffect","useRef","Chart","jsx","_jsx","jsxs","_jsxs","Domain","_useState","_useState2","_slicedToArray","data","setData","chartRef","fetch","then","response","json","console","log","catch","error","chart","current","destroy","ctx","document","getElementById","getContext","type","labels","rankingEntries","map","entry","domain","datasets","label","rank","backgroundColor","rankChange","borderColor","borderWidth","options","scales","y","beginAtZero","title","display","text","x","children","style","textAlign","fontWeight","id","height"],"sources":["D:/Prathiba/localClouflare/src/Domain.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport Chart from 'chart.js/auto';\r\n\r\nfunction Domain() {\r\n    const [data, setData] = useState(null);\r\n    const chartRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        fetch('https://myworker.prathibaramesh2120.workers.dev/popular-domains')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setData(data);\r\n                console.log(data)\r\n            })\r\n            .catch(error => {\r\n                console.error(error);\r\n            });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            const chart = chartRef.current;\r\n\r\n            if (chart) {\r\n                chart.destroy();\r\n            }\r\n\r\n            const ctx = document.getElementById('myChart').getContext('2d');\r\n            chartRef.current = new Chart(ctx, {\r\n                type: 'bar',\r\n                data: {\r\n                    labels: data.rankingEntries.map(entry => entry.domain),\r\n                    datasets: [\r\n                        {\r\n                            label: 'Ranking',\r\n                            data: data.rankingEntries.map(entry => entry.rank),\r\n                            backgroundColor: data.rankingEntries.map(entry => {\r\n                                if (entry.rankChange === '1') {\r\n                                    return 'rgba(75, 192, 192, 0.2)';\r\n                                } else if (entry.rankChange === '-1') {\r\n                                    return 'rgba(255, 99, 132, 0.2)';\r\n                                } else {\r\n                                    return 'rgba(54, 162, 235, 0.2)';\r\n                                }\r\n                            }),\r\n                            borderColor: data.rankingEntries.map(entry => {\r\n                                if (entry.rankChange === '1') {\r\n                                    return 'rgba(75, 192, 192, 1)';\r\n                                } else if (entry.rankChange === '-1') {\r\n                                    return 'rgba(255, 99, 132, 1)';\r\n                                } else {\r\n                                    return 'rgba(54, 162, 235, 1)';\r\n                                }\r\n                            }),\r\n                            borderWidth: 1,\r\n                        },\r\n                    ],\r\n                },\r\n                options: {\r\n                    scales: {\r\n                        y: {\r\n                            beginAtZero: true,\r\n                            title: {\r\n                                display: true,\r\n                                text: 'Ranking',\r\n                            },\r\n                        },\r\n                        x: {\r\n                            title: {\r\n                                display: true,\r\n                                text: 'Domain',\r\n                            },\r\n                        },\r\n                    },\r\n\r\n                },\r\n            });\r\n        }\r\n    }, [data]);\r\n\r\n    if (!data) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1 style={{ textAlign: \"center\", fontWeight: \"bold\" }}>Popular Domains</h1>\r\n            <p style={{ textAlign: \"center\" }}>The domain that have fallen in rank is represented in red and domain that have raised in rank is represented in green </p>\r\n            <canvas id=\"myChart\" style={{ height: '100px' }}></canvas>\r\n            <br />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Domain;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}